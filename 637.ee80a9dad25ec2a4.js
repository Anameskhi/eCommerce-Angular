"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[637],{7637:(O,p,a)=>{a.r(p),a.d(p,{ContentManagerModule:()=>T});var l=a(6895),c=a(5808),r=a(433),m=a(7579),u=a(2722),t=a(8256),h=a(7489);function Z(n,i){1&n&&(t.TgZ(0,"small",21),t._uU(1,"Title is required"),t.qZA())}function v(n,i){1&n&&(t.TgZ(0,"small",21),t._uU(1,"Price is required"),t.qZA())}function _(n,i){1&n&&(t.TgZ(0,"small",21),t._uU(1,"Image is required"),t.qZA())}function b(n,i){1&n&&(t.TgZ(0,"small",21),t._uU(1,"Description is required"),t.qZA())}let f=(()=>{class n{constructor(o,e,d){this.productsService=o,this.router=e,this.route=d,this.form=new r.cw({id:new r.NI(""),title:new r.NI("",r.kI.required),price:new r.NI("",r.kI.required),description:new r.NI("",r.kI.required),image:new r.NI("",r.kI.required)}),this.sub$=new m.x}get getTitle(){return this.form.get("title")}get getDescription(){return this.form.get("description")}get getPrice(){return this.form.get("price")}get getImage(){return this.form.get("image")}ngOnInit(){this.route.params.pipe((0,u.R)(this.sub$)).subscribe(o=>{o.id&&(this.productId=o.id,this.productsService.getById(o.id).subscribe(e=>{this.form.patchValue(e)}))})}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}submit(){console.log(this.form.value),this.form.markAllAsTouched(),!this.form.invalid&&(this.form.value.id?this.productsService.update(this.form.value).pipe((0,u.R)(this.sub$)).subscribe(()=>{this.router.navigate(["content-manager/product-manager"])}):this.productsService.create(this.form.value).subscribe(()=>{this.router.navigate(["content-manager/product-manager"])}))}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(h.su),t.Y36(c.F0),t.Y36(c.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-add-edit"]],decls:35,vars:14,consts:[["id","login",1,"col-md-4","col-md-offset-4"],["id","inner-wrapper",1,"login"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"input-group"],[1,"input-group-text"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-card-heading"],["d","M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"],["d","M3 8.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0-5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-1z"],["type","text","placeholder","Title","formControlName","title",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"fas","fa-dollar-sign",2,"width","20px","height","20px"],["type","number","placeholder","Price","formControlName","price",1,"form-control"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-images"],["d","M4.502 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"],["d","M14.002 13a2 2 0 0 1-2 2h-10a2 2 0 0 1-2-2V5A2 2 0 0 1 2 3a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-1.998 2zM14 2H4a1 1 0 0 0-1 1h9.002a2 2 0 0 1 2 2v7A1 1 0 0 0 15 11V3a1 1 0 0 0-1-1zM2.002 4a1 1 0 0 0-1 1v8l2.646-2.354a.5.5 0 0 1 .63-.062l2.66 1.773 3.71-3.71a.5.5 0 0 1 .577-.094l1.777 1.947V5a1 1 0 0 0-1-1h-10z"],["type","text","placeholder","Image","formControlName","image",1,"form-control"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-body-text"],["fill-rule","evenodd","d","M0 .5A.5.5 0 0 1 .5 0h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 0 .5Zm0 2A.5.5 0 0 1 .5 2h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm9 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-9 2A.5.5 0 0 1 .5 4h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm5 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5Zm-12 2A.5.5 0 0 1 .5 6h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5Zm8 0a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm-8 2A.5.5 0 0 1 .5 8h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Zm7 0a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"],["type","text","placeholder","Description","formControlName","description",1,"form-control"],["type","submit",1,"btn","btn-dark","btn-block"],[1,"text-danger"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"section",1)(2,"article")(3,"form",2),t.NdJ("ngSubmit",function(){return e.submit()}),t.TgZ(4,"div",3)(5,"div",4)(6,"span",5),t.O4$(),t.TgZ(7,"svg",6),t._UZ(8,"path",7)(9,"path",8),t.qZA()(),t.kcU(),t._UZ(10,"input",9),t.qZA(),t.YNc(11,Z,2,0,"small",10),t.qZA(),t.TgZ(12,"div",3)(13,"div",4)(14,"span",5),t._UZ(15,"i",11),t.qZA(),t._UZ(16,"input",12),t.qZA(),t.YNc(17,v,2,0,"small",10),t.qZA(),t.TgZ(18,"div",3)(19,"div",4)(20,"span",5),t.O4$(),t.TgZ(21,"svg",13),t._UZ(22,"path",14)(23,"path",15),t.qZA()(),t.kcU(),t._UZ(24,"input",16),t.qZA(),t.YNc(25,_,2,0,"small",10),t.qZA(),t.TgZ(26,"div",3)(27,"div",4)(28,"span",5),t.O4$(),t.TgZ(29,"svg",17),t._UZ(30,"path",18),t.qZA()(),t.kcU(),t._UZ(31,"textarea",19),t.qZA(),t.YNc(32,b,2,0,"small",10),t.qZA(),t.TgZ(33,"button",20),t._uU(34),t.qZA()()()()()),2&o&&(t.xp6(3),t.Q6J("formGroup",e.form),t.xp6(7),t.ekj("is-invalid",(null==e.getTitle?null:e.getTitle.invalid)&&(null==e.getTitle?null:e.getTitle.touched)),t.xp6(1),t.Q6J("ngIf",(null==e.getTitle?null:e.getTitle.invalid)&&(null==e.getTitle?null:e.getTitle.touched)),t.xp6(5),t.ekj("is-invalid",(null==e.getPrice?null:e.getPrice.invalid)&&(null==e.getPrice?null:e.getPrice.touched)),t.xp6(1),t.Q6J("ngIf",(null==e.getPrice?null:e.getPrice.invalid)&&(null==e.getPrice?null:e.getPrice.touched)),t.xp6(7),t.ekj("is-invalid",(null==e.getImage?null:e.getImage.invalid)&&(null==e.getImage?null:e.getImage.touched)),t.xp6(1),t.Q6J("ngIf",(null==e.getImage?null:e.getImage.invalid)&&(null==e.getImage?null:e.getImage.touched)),t.xp6(6),t.ekj("is-invalid",(null==e.getDescription?null:e.getDescription.invalid)&&(null==e.getDescription?null:e.getDescription.touched)),t.xp6(1),t.Q6J("ngIf",(null==e.getDescription?null:e.getDescription.invalid)&&(null==e.getDescription?null:e.getDescription.touched)),t.xp6(2),t.Oqu(e.productId?"Update":"Create"))},dependencies:[l.O5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u],styles:["body[_ngcontent-%COMP%]{background:#333}#login[_ngcontent-%COMP%]{perspective:1000px;margin-top:50px;margin-left:30%}.login[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif;transition:.3s}.login[_ngcontent-%COMP%]:hover{transform:rotate(0)}.login[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:17px}.login[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0}.login[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:3px}.input-group-addon[_ngcontent-%COMP%]{border-radius:0;color:#fff;background:#f3aa0c;border:#f3aa0c}.forgot[_ngcontent-%COMP%]{font-size:16px}.forgot[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333}.forgot[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#5cb85c}#inner-wrapper[_ngcontent-%COMP%], #contact-us[_ngcontent-%COMP%]   .contact-form[_ngcontent-%COMP%], #contact-us[_ngcontent-%COMP%]   .our-address[_ngcontent-%COMP%]{color:#1d1d1d;font-size:19px;line-height:1.7em;font-weight:300;padding:50px;background:#fff;box-shadow:0 2px 5px #00000029,0 2px 10px #0000001f;margin-bottom:100px}.input-group-addon[_ngcontent-%COMP%]{border-radius:0/0 0px 0px 0;color:#fff;background:#f3aa0c;border:#f3aa0c;border-right-color:#f3aa0c;border-right-style:none;border-right-width:medium}"]}),n})();function C(n,i){if(1&n){const o=t.EpF();t.TgZ(0,"tr")(1,"th",8),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",9),t.NdJ("click",function(){const g=t.CHM(o).$implicit,s=t.oxw(2);return t.KtG(s.edit(g.id))}),t._UZ(9,"i",10),t.qZA(),t.TgZ(10,"button",11),t.NdJ("click",function(){const g=t.CHM(o).$implicit,s=t.oxw(2);return t.KtG(s.delete(g.id))}),t._UZ(11,"i",12),t.qZA()()()}if(2&n){const o=i.$implicit,e=i.index;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(o.title),t.xp6(2),t.Oqu(o.price),t.xp6(2),t.MGl("routerLink","/content-manager/product/edit/",o.id,"")}}function M(n,i){if(1&n&&(t.ynx(0),t.YNc(1,C,12,4,"tr",7),t.BQk()),2&n){const o=i.ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}const P=[{path:"",redirectTo:"/content-manager/product-manager",pathMatch:"full"},{path:"product-manager",component:(()=>{class n{constructor(o){this.productsService=o,this.products$=this.productsService.getProducts(),this.sub$=new m.x}ngOnInit(){}edit(o){}delete(o){this.productsService.delete(o).pipe((0,u.R)(this.sub$)).subscribe(()=>{this.products$=this.productsService.getProducts()})}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(h.su))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-content-manager"]],decls:22,vars:3,consts:[[1,"container",2,"margin-top","3px"],[1,"d-flex","justify-content-between","align-items-center"],["routerLink","/content-manager/product/add",1,"btn","btn-dark"],[1,"table",2,"margin-top","10px"],[1,"thead-light"],["scope","col"],[4,"ngIf"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-outline-secondary","btn-right-spacing",3,"routerLink","click"],[1,"fas","fa-edit","errspan"],[1,"btn","btn-outline-danger","btn-right-spacing",3,"click"],["aria-hidden","true",1,"fa","fa-trash","errspan"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"h4"),t._uU(4,"Products"),t.qZA()(),t.TgZ(5,"div")(6,"button",2),t._uU(7,"Add Product"),t.qZA()()()(),t.TgZ(8,"table",3)(9,"thead",4)(10,"tr")(11,"th",5),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th",5),t._uU(14,"Title"),t.qZA(),t.TgZ(15,"th",5),t._uU(16,"Price"),t.qZA(),t.TgZ(17,"th",5),t._uU(18,"actions"),t.qZA()()(),t.TgZ(19,"tbody"),t.YNc(20,M,2,1,"ng-container",6),t.ALo(21,"async"),t.qZA()()),2&o&&(t.xp6(20),t.Q6J("ngIf",t.lcZ(21,1,e.products$)))},dependencies:[l.sg,l.O5,c.rH,l.Ov],styles:[".btn-right-spacing[_ngcontent-%COMP%]{margin-right:5px}"]}),n})()},{path:"product/add",component:f},{path:"product/edit/:id",component:f}];let A=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(P),c.Bz]}),n})(),T=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[l.ez,A,r.UX,r.u5]}),n})()}}]);